<div>

  <ng-template [ngIf] ="emailVerificado == false">
    <div class="main-content">
      <div class="container-fluid">
          <div class="row">
              <div class="col-md-12">
                  <div class="card">
                      <div class="card-header card-header-info">
                          <h4 class="card-title">Validar e-mail</h4>
                      </div>
                      <div class="card-body">
    
                          <div class="card mb-3">
                              <div class="row no-gutters">
                                <div class="col-md-4">
                                   <img src="../../../assets/img/mail.png" class="card-img" alt="about.id">
                                </div>
                                <div class="col-md-8">
                                  <div class="card-body">
                                      <p>Tu correo electrónico aun no ha sido verificado
                                      revisa tu bandeja de entrada o el correo no deseado o vuelve a enviar el mail</p>
                                      <hr>
                                      <p class="card-text"><a href="#" class="btn btn-danger" data-toggle="modal" data-target="#dataModal" (click)="enviarEmail()"><i class="fas fa-edit"></i>enviar mail</a></p>
                                  
                                  </div>
                                </div>
                              </div>
                          </div>
                    
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</ng-template>

<ng-template [ngIf] ="emailVerificado == true">

<ng-template [ngIf]="estadoRestauranteActual(estadoRestaurante) == true">
  <div *ngIf="validacionRestauranteExiste(valorRestaurante) == false; else validacionRestaurante">
    <div class="main-content">
      <div class="container-fluid">
          <div class="row">
              <div class="col-md-12">
                  <div class="card">
                      <div class="card-header card-header-info">
                          <h4 class="card-title">Agregar Restaurante</h4>
                      </div>
                      <div class="card-body">
    
                          <div class="card mb-3">
                              <div class="row no-gutters">
                                <div class="col-md-4">
                                   <img src="../../../assets/img/restaurante.png" class="card-img" alt="about.id">
                                </div>
                                <div class="col-md-8">
                                  <div class="card-body">
                                      <h3>Debes agregar información de tu restaurante primero</h3>
                                      <hr>
                                  </div>
                                </div>
                              </div>
                          </div>
                    
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
  </div>

<!-- Una vez agregado un restaurante valida si tiene ya subio el documento de verificacion -->
<ng-template #validacionRestaurante>
  <div *ngIf="validacionDocRestauranteExiste(validacionR) == false; else verificacionRes">
      <h1>Un paso mas antes de Visualizar tus Promociones :) </h1>
      <app-validacion></app-validacion>
  </div> 


  <ng-template #verificacionRes>
      <div *ngFor="let perfil of perfil$ | async ">
          <div *ngIf="usuarioLog == perfil.userUID">
              <ng-template [ngIf]="perfil.resVerificado.toString() === 'En revision'">
                <div class="main-content">
                  <div class="container-fluid">
                      <div class="row">
                          <div class="col-md-12">
                              <div class="card">
                                  <div class="card-header card-header-info">
                                      <h4 class="card-title">Validar e-mail</h4>
                                  </div>
                                  <div class="card-body">
                
                                      <div class="card mb-3">
                                          <div class="row no-gutters">
                                            <div class="col-md-4">
                                               <img src="../../../assets/img/mail.png" class="card-img" alt="about.id">
                                            </div>
                                            <div class="col-md-8">
                                              <div class="card-body">
                                                  <p>Tu restaurante esta siendo verificado por el Administrador</p>
                                                  <hr>
                                                    <mat-card-title>Estado:{{perfil.resVerificado}}</mat-card-title>
                                              
                                              </div>
                                            </div>
                                          </div>
                                      </div>
                              
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>

              </ng-template>
              <ng-template [ngIf]="perfil.resVerificado.toString() === 'Aprobado'">
                  <div>
                    <div class="main-content">
                      <div class="container-fluid">
                        <div class="row">
                          <div class="col-md-12">
                            <div class="card">
                              <div class="card-header card-header-info">
                                <h4 class="card-title ">Listado de Recetas</h4>
                              </div>
                              <div class="row" style="text-align: center;">
                                <div class="col-md-4">                                   
                                </div>
                                <div class="col-md-4">
                                  <div class="card-body">
                                
                                    <div class="row" *ngIf="promociones$ | async as promocion">
                                      <div *ngFor="let promo of promocion; let i = index">
                                        <div *ngIf="usuarioLog === promo.userUID && promo.userUID && promo.fotosPromocion">
                                          <a>
                                            <div class="card" class="img-contenedor">
                                              <img class="card-img-top text-center" [src]="promo.fotosPromocion" alt="Card image cap">
                                              <div class="card-body cardTitle">
                                                <h5 class="card-title text-center" *ngIf="promo.estado ==='falso'">Promoción Deshabilitada</h5>
                                                <div style="text-align: center;">
                                                  <button mat-button color="warm" *ngIf="promo.estado === 'verdadero'" (click)="deshabilitarPromo(promo)"><mat-icon arial-label="Eliminar">highlight_off</mat-icon>Deshabilitar</button>
                                                  <button mat-button color="info" *ngIf="promo.estado === 'falso'" (click)="habilitarPromo(promo)"><mat-icon arial-label="habilitar">check_circle</mat-icon>Habilitar</button>
                                                </div>
                                              </div>
                                            </div>
                                          </a>
                                        </div>
                                        <hr>
                                      </div>
                        
                                    </div>
                                    <div style="text-align: center;">
                                    <app-promociones></app-promociones>
  
                                    </div>
                        
                                  </div>
                                </div>
                                <div class="col-md-4"></div>
                              </div>

                              
                            </div>
                          </div>
       
                            

                        </div>
                      </div>
                      
                    </div>
                    
<!-- 

                
                <div class="container" *ngIf="promociones$ | async as promocion; else loading">

                    <div  class="example-card" *ngFor="let promo of promocion">
                      <div *ngIf="usuarioLog === promo.userUID && promo.userUID && promo.estado ==='verdadero'">
                        <mat-card>
                          <mat-card-header>
                            <div mat-card-avatar class="example-header-image"></div>
                          </mat-card-header>
                            <img matCardImage [src]="promo.fotosPromocion" *ngIf="promo.fotosPromocion" width="500px" height="300px"/>
                            <mat-card-actions>
                              <button mat-button color="warm" (click)="deshabilitarPromo(promo)"><mat-icon arial-label="Eliminar">highlight_off</mat-icon>Deshabilitar</button>
                              <button mat-button color="warm" (click)="eliminarPromo(promo)"><mat-icon arial-label="Eliminar">highlight_off</mat-icon>Eliminar</button>
                            </mat-card-actions>
                        </mat-card>
                      </div>
                    </div>
                  </div>
                  <div style="position: static;">
                    <app-promociones></app-promociones>
                  </div>  
                  <mat-divider></mat-divider> -->
                  
                    <!-- <p>Promociones Deshabilitadas</p>
                    <div class="container" *ngIf="promociones$ | async as promocion; else loading">
     
                        <div  class="example-card" *ngFor="let promo of promocion">
                          <div *ngIf="usuarioLog === promo.userUID && promo.userUID && promo.estado ==='falso'">
                            <mat-card >
                              <mat-card-header>
                                <div mat-card-avatar class="example-header-image"></div>
                              </mat-card-header>
                                <img matCardImage [src]="promo.fotosPromocion" *ngIf="promo.fotosPromocion" width="500px" height="300px"  />
                                <mat-card-actions>
                                  <button mat-button color="warm" (click)="habilitarPromo(promo)"><mat-icon arial-label="Eliminar">check</mat-icon>Habilitar</button>
                                  <button mat-button color="warm" (click)="eliminarPromo(promo)"><mat-icon arial-label="Eliminar">highlight_off</mat-icon>Eliminar</button>
                                </mat-card-actions>
                            </mat-card>
                          </div>
                        </div>
                      </div> -->
                  
        <!-- <ng-template #loading>
          <div class="spinner">
            <p>Cargando ....</p>
            <mat-spinner></mat-spinner>
          </div>
        </ng-template> -->

      </div>
        </ng-template>
              <ng-template [ngIf]="perfil.resVerificado.toString() === 'Rechazado'">
                <div class="main-content">
                  <div class="container-fluid">
                      <div class="row">
                          <div class="col-md-12">
                              <div class="card">
                                  <div class="card-header card-header-info">
                                      <h4 class="card-title">Restaurante rechazado</h4>
                                  </div>
                                  <div class="card-body">
                
                                      <div class="card mb-3">
                                          <div class="row no-gutters">
                                            <div class="col-md-4">
                                               <img src="../../../assets/img/mail.png" class="card-img" alt="about.id">
                                            </div>
                                            <div class="col-md-8">
                                              <div class="card-body">
                                                <div>
                                                  <h1>Tu restaurante no ha sido Aprobado :( </h1>
                                                  <br>
                                                  
                                                </div> 
                                              </div>
                                            </div>
                                          </div>
                                      </div>
                                
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              </ng-template>  
          </div>
      </div>
  </ng-template>
</ng-template>


</ng-template>

<ng-template [ngIf]="estadoRestauranteActual(estadoRestaurante) == false">
  <div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header card-header-info">
                        <h4 class="card-title">Restaurante Deshabilitado</h4>
                    </div>
                    <div class="card-body">
  
                        <div class="card mb-3">
                            <div class="row no-gutters">
                              <div class="col-md-4">
                                 <img src="../../../assets/img/mail.png" class="card-img" alt="about.id">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                    <p>Tu restaurante esta deshabilitado</p>
                                </div>
                              </div>
                            </div>
                        </div>
                  
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</ng-template>



    
</ng-template>




  
</div>




  